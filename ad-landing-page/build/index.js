(()=>{var t=class{constructor(e){this.marquee=e,this.marqueeInner=this.marquee.querySelector(".marquee-inner"),this.animation=null,this.updateDimensions(),this.setup(),this.animate(),this.resizeObserver=new ResizeObserver(this.handleResize.bind(this)),this.resizeObserver.observe(this.marquee)}updateDimensions(){this.marqueeWidth=this.marquee.offsetWidth,this.marqueeInnerWidth=this.marqueeInner.offsetWidth,this.gap=parseFloat(getComputedStyle(this.marquee).gap)||0}handleResize(){this.updateDimensions(),this.animation&&this.animation.kill(),this.setup(),this.animate()}setup(){this.clones=this.marquee.querySelectorAll(".marquee-inner:not(:first-child)"),this.clones.forEach(e=>e.remove()),this.numCopies=Math.ceil(this.marqueeWidth/this.marqueeInnerWidth)+1,this.wrapper&&this.wrapper.remove(),this.wrapper=document.createElement("div"),this.wrapper.style.display="flex",this.wrapper.style.gap=`${this.gap}px`,this.marqueeInner.parentNode!==this.wrapper&&(this.marqueeInner.remove(),this.wrapper.appendChild(this.marqueeInner));for(let e=0;e<this.numCopies;e++){let s=this.marqueeInner.cloneNode(!0);this.wrapper.appendChild(s)}this.marquee.appendChild(this.wrapper)}animate(){this.itemWidth=this.marqueeInnerWidth+this.gap,this.animation=gsap.to(this.wrapper,{x:-this.itemWidth,duration:10,ease:"none",repeat:-1,onRepeat:()=>{gsap.set(this.wrapper,{x:0})}})}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".marquee").forEach(e=>new t(e))});})();
//# sourceMappingURL=index.js.map
